<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Weekend Flyer</title>

    <!-- Bootstrap core CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="jumbotron_narrow.css" rel="stylesheet">
    
    <link rel="stylesheet" type="text/css" href="accordion_demo.css">

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/accordion.js"></script>
    <script type="text/javascript" src="javascripts/flight_list.js"></script>
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->


    <script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script type="text/javascript">
       (function(){
          emailjs.init("user_P9ZRzstNVrsKAxg5cttib");
       })();
    </script>

  </head>


  <body>

    <div class="container">
      <div class="header clearfix">
        <nav>
          <ul class="nav nav-pills pull-right">
            <li role="presentation"><a href="jumbotron.html">Home</a></li>
            <li role="presentation"><a href="about.html">About</a></li>
            <li role="presentation"><a href="settings.html">Your Settings</a></li>
          </ul>
        </nav>
        <h3 class="text-muted">Weekend Flyer</h3>
      </div>

      <div class="jumbotron">



<script>
  function close_accordion_section() {
    jQuery('.accordion .accordion-section-title').removeClass('active');
    jQuery('.accordion .accordion-section-content').slideUp(300).removeClass('open');
  }
</script>




<SCRIPT LANGUAGE="JavaScript">
cookie_name = "dataCookie";
var YouWrote;
function getName() {
if(document.cookie)
{
index = document.cookie.indexOf(cookie_name);
if (index != -1)
{
namestart = (document.cookie.indexOf("=", index) + 1);
nameend = document.cookie.indexOf(";", index);
if (nameend == -1) {nameend = document.cookie.length;}
YouWrote = document.cookie.substring(namestart, nameend);
return YouWrote;
}
}
}
YouWrote=getName();
if (YouWrote == "dataCookie")
{YouWrote = "Nothing_Entered"}
</SCRIPT> 






<SCRIPT LANGUAGE="JavaScript">
cookie_name1 = "dataCookie1";
var YouWrote1;
function getName1() {
if(document.cookie)
{
index = document.cookie.indexOf(cookie_name1);
if (index != -1)
{
namestart = (document.cookie.indexOf("=", index) + 1);
nameend = document.cookie.indexOf(";", index);
if (nameend == -1) {nameend = document.cookie.length;}
YouWrote1 = document.cookie.substring(namestart, nameend);
return YouWrote1;
}
}
}
YouWrote1=getName1();
if (YouWrote1 == "dataCookie1")
{YouWrote1 = "Nothing_Entered"}
</SCRIPT> 





        <h2 id="hello"></h2>
                                <script>
                                document.getElementById("hello").innerHTML = "Select your flights to " + YouWrote1;
                                </script>





                          <div class="main">
                            <div class="accordion">

                              <div class="accordion-section">
                                <a id="fill-me2" class="accordion-section-title" href="#accordion-6"></a>
                                <div id="accordion-6" class="accordion-section-content">
                                <script>
                                document.getElementById("fill-me2").innerHTML = YouWrote + " to " + YouWrote1;
                                emailjs.send("gmail","TEST_Departure_Arrival",{name: "Hello", notes: YouWrote + " to " + YouWrote1 });
                                </script>
                                  <span id="fill-this"> </span>
                                  <!--<a class="btn btn-sm btn-success" onclick="myFunction()" role="button">Select</a>-->
                                  

                                </div><!--end .accordion-section-content-->
                              </div><!--end .accordion-section-->


                                  <p line-height= ".3em"> </p>


                              <div class="accordion-section">
                                <a id="fill-me-in2" class="accordion-section-title" href="#accordion-7"></a>
                                <div id="accordion-7" class="accordion-section-content">
                                <script>
                                document.getElementById("fill-me-in2").innerHTML = YouWrote1 + " to " + YouWrote;
                                </script>
                                  <span id="fill-this2"> </span>
                                  <!--<a class="btn btn-sm btn-success" onclick="myFunction1()" role="button">Select</a>-->
                                </div><!--end .accordion-section-content-->
                              </div><!--end .accordion-section-->
                            </div><!--end .accordion-->
                          </div>

                                  <br><a class="btn btn-sm btn-success" href = "settings.html" role="button">Let's do this!</a>

                  <script>
                  if (YouWrote == "San Francisco") {var city = "SFO";}
else if (YouWrote == "New York City") {var city = "JFK";}
else if (YouWrote == "Boston") {var city = "BOS";}
else if (YouWrote == "Seattle") {var city = "SEA";}
else  {var city = "fail";}
if (YouWrote1 == "San Francisco") {var city1 = "SFO";}
else if (YouWrote1 == "New York City") {var city1 = "JFK";}
else if (YouWrote1 == "Boston") {var city1 = "BOS";}
else if (YouWrote1 == "Seattle") {var city1 = "SEA";}
else  {var city1 = "fail";}
                                function myFunction(a) {
                                document.getElementById("fill-me2").innerHTML = "(" +city +" to "+ city1+ ")     "  + input[a];
                                close_accordion_section();
                                }
                         
                                function myFunction1(a) {
                                document.getElementById("fill-me-in2").innerHTML = "(" +city1 +" to "+ city+ ")     "  + output[a];
                                close_accordion_section();
                                }
                                </script>




<script>
if (YouWrote == "San Francisco") {var city = "SFO";}
else if (YouWrote == "New York City") {var city = "JFK";}
else if (YouWrote == "Boston") {var city = "BOS";}
else if (YouWrote == "Seattle") {var city = "SEA";}
else  {var city = "fail";}
if (YouWrote1 == "San Francisco") {var city1 = "SFO";}
else if (YouWrote1 == "New York City") {var city1 = "JFK";}
else if (YouWrote1 == "Boston") {var city1 = "BOS";}
else if (YouWrote1 == "Seattle") {var city1 = "SEA";}
else  {var city1 = "fail";}

var input = [];
var output = [];


for (i = 0; i < flights.length; i++) {
  if (flights[i].home == city && flights[i].dest == city1 && (flights[i].departureWeekday == "Friday" || flights[i].departureWeekday == "Saturday" )) {
    if (flights[i].h0 >= 12) {var h0 = (flights[i].h0 - 12).toString() ; var m3 = "pm" ;}
    else {var h0 = flights[i].h0.toString() ; var m3 = "am";}
    if (flights[i].h1 >= 12) {var h1 = (flights[i].h1 - 12).toString() ; var m4 = "pm" ;}
    else {var h1 = flights[i].h1.toString() ; var m4 = "am";}
    if (flights[i].h1 <= flights[i].h0) {
      if (flights[i].departureWeekday == "Friday") {
      var redeye = " (Sat) ";
      } 
      else if (flights[i].departureWeekday == "Thursday") {
      var redeye = " (Fri) ";
      } 
      else {var redeye = "";}
    }
    else {var redeye = "";}
    if (h0 == 0) {h0 = '12'}
    if (h1 == 0) {h1 = '12'}
    input.push(flights[i].departureWeekday + " " + h0 + ":" + flights[i].m0 + m3 + " - " + redeye + h1 + ":" + flights[i].m1 + m4);
  }
  if (flights[i].home == city1 && flights[i].dest == city && (flights[i].departureWeekday == "Sunday" || flights[i].departureWeekday == "Monday" )) {
    if (flights[i].h0 >= 12) {var h0 = (flights[i].h0 - 12).toString() ; var m3 = "pm" ;}
    else {var h0 = flights[i].h0.toString() ; var m3 = "am";}
    if (flights[i].h1 >= 12) {var h1 = (flights[i].h1 - 12).toString() ; var m4 = "pm" ;}
    else {var h1 = flights[i].h1.toString() ; var m4 = "am";}
    if (flights[i].h1 <= flights[i].h0) {
      if (flights[i].departureWeekday == "Friday") {
      var redeye = " (Sat) ";
      } 
      else if (flights[i].departureWeekday == "Thursday") {
      var redeye = " (Fri) ";
      } 
      else {var redeye = "";}
    }
    else {var redeye = "";}
    if (h0 == 0) {h0 = '12'}
    if (h1 == 0) {h1 = '12'}
    output.push(flights[i].departureWeekday + " " + h0 + ":" + flights[i].m0 + m3 + " - " + redeye + h1 + ":" + flights[i].m1 + m4);
  }                            
  
};



for (var i = 0, l = input.length; i < l; ++i) {
                                      document.getElementById('fill-this').innerHTML += '<span>'+ input[i] + '</span> <span class="btn-group"><a class="btn btn-xs btn-primary" onclick="myFunction('+i.toString()+')">\u2713</a></span><br />';
                                  };
for (var i = 0, l = output.length; i < l; ++i) {
                                      document.getElementById('fill-this2').innerHTML += '<span>'+ output[i] + '</span> <span class="btn-group"><a class="btn btn-primary btn-xl" onclick="myFunction1('+i.toString()+')">\u2713</a></span><br />';
                                  };

                                  
</script>  


        
      </div>

      <footer class="footer">
        <p>&copy; 2015 Weekend Flyer, Inc.</p>
      </footer>

    </div> <!-- /container -->

  </body>
</html>
